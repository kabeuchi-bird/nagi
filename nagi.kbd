(defvar
    timeout 100
    macro-delay 10
)

(defcfg
    process-unmapped-keys yes
)

(defsrc
    q    w    e    r    t    y    u    i    o    p
    a    s    d    f    g    h    j    k    l    ;
    z    x    c    v    b    n    m    ,    .    /
    spc
)

;; ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®£è¨€ã€‚ãƒ¢ãƒ‡ã‚£ãƒ•ã‚¡ã‚¤ã‚¢ã‚­ãƒ¼ã‚’æŠ¼ã•ãªã„ãªã‚‰è–™åˆ€å¼ã€æŠ¼ã™ãªã‚‰qwerty
(deftemplate stroke (key) (fork (chord nagi $key) $key (lctrl rctrl lmeta rmeta lalt ralt lshift rshift)))

;; ã‚¨ã‚¤ãƒªã‚¢ã‚¹å®£è¨€ã€‚å¼ã«åˆ¥åã‚’ã¤ã‘ã‚‹
(defalias
    sands    (tap-hold-press $timeout 500 spc (layer-while-held shifted))
)

;; å˜æŠ¼ã—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã€‚å…ˆã»ã©ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å±•é–‹ã—ã€å„ã‚­ãƒ¼ã«å¯¾å¿œã•ã›ã‚‹
(deflayer single
    (t! stroke q) (t! stroke w) (t! stroke e) (t! stroke r) (t! stroke t) (t! stroke y) (t! stroke u) (t! stroke i) (t! stroke o) (t! stroke p)
    (t! stroke a) (t! stroke s) (t! stroke d) (t! stroke f) (t! stroke g) (t! stroke h) (t! stroke j) (t! stroke k) (t! stroke l) (t! stroke ;)
    (t! stroke z) (t! stroke x) (t! stroke c) (t! stroke v) (t! stroke b) (t! stroke n) (t! stroke m) (t! stroke ,) (t! stroke .) (t! stroke /)
    @sands
)

;; ã‚·ãƒ•ãƒˆãƒ¬ã‚¤ãƒ¤ãƒ¼ã€‚ãƒã‚¯ãƒ­ã¯è¤‡æ•°ã‚­ãƒ¼ã‚’é †ç•ªã«å…¥åŠ›ã™ã‚‹
(deflayer shifted
    XX   ğŸ”£ã¬   ğŸ”£ã‚Š   ğŸ”£ã‚   XX   XX   ğŸ”£ã•   ğŸ”£ã‚ˆ   ğŸ”£ãˆ   ğŸ”£ã‚†
    ğŸ”£ã›   ğŸ”£ã¿   ğŸ”£ã«   ğŸ”£ã¾   ğŸ”£ã¡   ğŸ”£ã‚„   ğŸ”£ã®   ğŸ”£ã‚‚   ğŸ”£ã¤   ğŸ”£ãµ
    XX   XX   ğŸ”£ã‚’   (macro ğŸ”£ã€ ret) ğŸ”£ã‚€   ğŸ”£ãŠ   (macro ğŸ”£ã€‚ ret) ğŸ”£ã­   ğŸ”£ã‚   ğŸ”£ã‚Œ
    XX
)

;; è–™åˆ€å¼ã‚’ã‚³ãƒ¼ãƒ‰ã§å®šç¾©ã™ã‚‹
(defchords nagi $timeout
    (w) ğŸ”£ã
    (e) ğŸ”£ã¦
    (r) ğŸ”£ã—
    (t) up
    (y) down
    (u) bks
    (i) ğŸ”£ã‚‹
    (o) ğŸ”£ã™
    (p) ğŸ”£ã¸
    (a) ğŸ”£ã‚
    (s) ğŸ”£ã‘
    (d) ğŸ”£ã¨
    (f) ğŸ”£ã‹
    (g) ğŸ”£ã£
    (h) ğŸ”£ã
    (j) ğŸ”£ã‚
    (k) ğŸ”£ã„
    (l) ğŸ”£ã†
    (;) ğŸ”£ãƒ¼
    (z) ğŸ”£ã»
    (x) ğŸ”£ã²
    (c) ğŸ”£ã¯
    (v) ğŸ”£ã“
    (b) ğŸ”£ã
    (n) ğŸ”£ãŸ
    (m) ğŸ”£ãª
    (,) ğŸ”£ã‚“
    (.) ğŸ”£ã‚‰
    (/) ğŸ”£ã‚Œ

    (w j) ğŸ”£ã
    (e j) ğŸ”£ã§
    (r j) ğŸ”£ã˜
    (u f) ğŸ”£ã–
    (o f) ğŸ”£ãš
    (p f) ğŸ”£ã¹
    (a j) ğŸ”£ãœ
    (s j) ğŸ”£ã’
    (d j) ğŸ”£ã©
    (f j) ğŸ”£ãŒ
    (g j) ğŸ”£ã¢
    (h f) ğŸ”£ã
    (l f) ğŸ”£ã¥
    (; f) ğŸ”£ã¶
    (z j) ğŸ”£ã¼
    (x j) ğŸ”£ã³
    (c j) ğŸ”£ã°
    (v j) ğŸ”£ã”
    (b j) ğŸ”£ã
    (n f) ğŸ”£ã 

    (w h) (macro ğŸ”£ã ğŸ”£ã‚ƒ)
    (e h) (macro ğŸ”£ã‚Š ğŸ”£ã‚ƒ)
    (r h) (macro ğŸ”£ã— ğŸ”£ã‚ƒ)
    (s h) (macro ğŸ”£ã¿ ğŸ”£ã‚ƒ)
    (d h) (macro ğŸ”£ã« ğŸ”£ã‚ƒ)
    (g h) (macro ğŸ”£ã¡ ğŸ”£ã‚ƒ)
    (x h) (macro ğŸ”£ã² ğŸ”£ã‚ƒ)

    (w p) (macro ğŸ”£ã ğŸ”£ã‚…)
    (e p) (macro ğŸ”£ã‚Š ğŸ”£ã‚…)
    (r p) (macro ğŸ”£ã— ğŸ”£ã‚…)
    (s p) (macro ğŸ”£ã¿ ğŸ”£ã‚…)
    (d p) (macro ğŸ”£ã« ğŸ”£ã‚…)
    (g p) (macro ğŸ”£ã¡ ğŸ”£ã‚…)
    (x p) (macro ğŸ”£ã² ğŸ”£ã‚…)

    (w i) (macro ğŸ”£ã ğŸ”£ã‚‡)
    (e i) (macro ğŸ”£ã‚Š ğŸ”£ã‚‡)
    (r i) (macro ğŸ”£ã— ğŸ”£ã‚‡)
    (s i) (macro ğŸ”£ã¿ ğŸ”£ã‚‡)
    (d i) (macro ğŸ”£ã« ğŸ”£ã‚‡)
    (g i) (macro ğŸ”£ã¡ ğŸ”£ã‚‡)
    (x i) (macro ğŸ”£ã² ğŸ”£ã‚‡)

    (w h j) (macro ğŸ”£ã ğŸ”£ã‚ƒ)
    (r h j) (macro ğŸ”£ã˜ ğŸ”£ã‚ƒ)
    (g h j) (macro ğŸ”£ã¢ ğŸ”£ã‚ƒ)
    (x h j) (macro ğŸ”£ã³ ğŸ”£ã‚ƒ)

    (w p j) (macro ğŸ”£ã ğŸ”£ã‚…)
    (r p j) (macro ğŸ”£ã˜ ğŸ”£ã‚…)
    (g p j) (macro ğŸ”£ã¢ ğŸ”£ã‚…)
    (x p j) (macro ğŸ”£ã³ ğŸ”£ã‚…)

    (w i j) (macro ğŸ”£ã ğŸ”£ã‚‡)
    (r i j) (macro ğŸ”£ã˜ ğŸ”£ã‚‡)
    (g i j) (macro ğŸ”£ã¢ ğŸ”£ã‚‡)
    (x i j) (macro ğŸ”£ã³ ğŸ”£ã‚‡)

    (z m) ğŸ”£ã½
    (x m) ğŸ”£ã´
    (c m) ğŸ”£ã±
    (p v) ğŸ”£ãº
    (; v) ğŸ”£ã·
    
    (x m h) (macro ğŸ”£ã´ ğŸ”£ã‚ƒ)
    (x m p) (macro ğŸ”£ã´ ğŸ”£ã‚…)
    (x m i) (macro ğŸ”£ã´ ğŸ”£ã‚‡)

    (q j) ğŸ”£ã
    (q k) ğŸ”£ãƒ
    (q l) ğŸ”£ã…
    (q o) ğŸ”£ã‡
    (q n) ğŸ”£ã‰
    (q h) ğŸ”£ã‚ƒ
    (q p) ğŸ”£ã‚…
    (q i) ğŸ”£ã‚‡
    (q .) ğŸ”£ã‚

    (e m k) (macro ğŸ”£ã¦ ğŸ”£ãƒ)
    (e j k) (macro ğŸ”£ã§ ğŸ”£ãƒ)
    (d m l) (macro ğŸ”£ã¨ ğŸ”£ã…)
    (d j l) (macro ğŸ”£ã© ğŸ”£ã…)
    (e m p) (macro ğŸ”£ã¦ ğŸ”£ã‚…)
    (e j p) (macro ğŸ”£ã§ ğŸ”£ã‚…)
    (r m o) (macro ğŸ”£ã— ğŸ”£ã‡)
    (g m o) (macro ğŸ”£ã¡ ğŸ”£ã‡)
    (r j o) (macro ğŸ”£ã˜ ğŸ”£ã‡)
    (g j o) (macro ğŸ”£ã¢ ğŸ”£ã‡)

    (l k v) (macro ğŸ”£ã† ğŸ”£ãƒ)
    (l o v) (macro ğŸ”£ã† ğŸ”£ã‡)
    (l n v) (macro ğŸ”£ã† ğŸ”£ã‰)
    (k o v) (macro ğŸ”£ã„ ğŸ”£ã‡)
    (l j v) (macro ğŸ”£ã¤ ğŸ”£ã)
    (; j v) (macro ğŸ”£ãµ ğŸ”£ã)
    (; k v) (macro ğŸ”£ãµ ğŸ”£ãƒ)
    (; o v) (macro ğŸ”£ãµ ğŸ”£ã‡)
    (; n v) (macro ğŸ”£ãµ ğŸ”£ã‰)
    (; p v) (macro ğŸ”£ãµ ğŸ”£ã‚…)
    (h j v) (macro ğŸ”£ã ğŸ”£ã)
    (h k v) (macro ğŸ”£ã ğŸ”£ãƒ)
    (h o v) (macro ğŸ”£ã ğŸ”£ã‡)
    (h n v) (macro ğŸ”£ã ğŸ”£ã‰)
    (h . v) (macro ğŸ”£ã ğŸ”£ã‚)
    (h k f) (macro ğŸ”£ã ğŸ”£ã)
    (h l f) (macro ğŸ”£ã ğŸ”£ãƒ)
    (h o f) (macro ğŸ”£ã ğŸ”£ã‡)
    (h n f) (macro ğŸ”£ã ğŸ”£ã‰)
    (h . f) (macro ğŸ”£ã ğŸ”£ã‚)

    (v m) ret
)